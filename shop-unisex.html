<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shop BMO ‚Äî Unisex</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Montserrat for site, Cinzel for header -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Cinzel:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cologne-css@1.0.0/dist/cologne.min.css">
  <style>
    :root { --gold-600:#bfa200; --gold-500:#ffd700; --bg:#f9f9f9; }
    html,body { height:100%; margin:0; }
    body {
      background:#fff;
      color:#222;
      font-family:'Montserrat',sans-serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .lux-header{
      background: linear-gradient(90deg,var(--bg),#fff);
      padding:2rem 0; text-align:center; color:#222;
      letter-spacing:0.15em; box-shadow:0 4px 24px 0 #ffd70044;
    }
    .lux-header h1{ font-family:'Cinzel',serif; font-weight:700; margin:0; }

    /* Desktop side menu */
    .side-menu{
      position:fixed; top:0; left:0; height:100%; width:210px;
      background:var(--bg); border-right:2px solid #ffd70033;
      box-shadow:2px 0 16px #ffd70011; display:flex; flex-direction:column;
      align-items:flex-start; z-index:100; padding-top:3rem;
    }
    .side-menu h2{ font-size:1.2rem; color:var(--gold-600); font-weight:700; margin-left:24px; margin-bottom:1rem; }
    .side-menu a{
      display:block; width:50%; padding:.9rem 2rem; color:var(--gold-600);
      font-size:1.07rem; text-decoration:none; font-weight:600; border-left:2px solid transparent;
      transition:background .18s, border-color .18s, color .18s;
    }
    .side-menu a:hover, .side-menu a.active{ background:#fffbe9; color:var(--gold-500); border-left:2px solid var(--gold-500); }

    .main-content { margin-left:210px; box-sizing:border-box; min-height:100vh; }

    /* Product grid: responsive, side-by-side cards */
    .grid-4rows {
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:1rem;
      margin:2rem;
    }
    .lux-product{
      width:100%; height:auto; background:#fff; border-radius:0;
      transition:transform .28s, box-shadow .28s; box-shadow:0 2px 8px #eee;
      color:#222; display:flex; flex-direction:column; position:relative;
      overflow:hidden; box-sizing:border-box; border:1px solid #eee;
    }
    .lux-product:hover{ transform:translateY(-6px); box-shadow:0 12px 32px #ffd70055; }
    .lux-product img{ width:100%; height:220px; object-fit:cover; display:block; background:var(--bg); }
    .lux-product h3{ margin:.5rem 1rem 0 1rem; font-size:1.05rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .lux-product .price{ margin:.25rem 1rem .75rem 1rem; font-weight:700; color:var(--gold-600); }
    .lux-btn{
      background:linear-gradient(90deg,var(--gold-500),var(--gold-600));
      color:#111; border:0; border-radius:25px; padding:.6rem 1.2rem; font-weight:700;
      font-size:1rem; cursor:pointer; box-shadow:0 2px 12px #ffd70055;
      width:calc(100% - 2rem); margin:.6rem 1rem 1rem 1rem;
    }

    /* Mobile nav (select + toggle) */
    .mobile-nav{ display:none; width:100%; background:var(--bg); border-bottom:2px solid #ffd70033; box-shadow:0 4px 10px rgba(0,0,0,.04); padding:.5rem 1rem; z-index:200; box-sizing:border-box; }
    .mobile-nav-bar{ max-width:1200px; margin:0 auto; display:flex; gap:.6rem; align-items:center; }
    #mobile-menu-toggle{ background:linear-gradient(90deg,var(--gold-500),var(--gold-600)); color:#111; border:0; border-radius:8px; padding:.45rem .8rem; font-weight:700; cursor:pointer; box-shadow:0 2px 12px rgba(255,215,0,.22); display:inline-flex; align-items:center; gap:.4rem; }
    #mobile-menu{ -webkit-appearance:none; appearance:none; width:100%; padding:.48rem .9rem; padding-right:2.6rem; border-radius:8px; border:1px solid #eee; background:#fff; font-size:1rem; color:#222; background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'><path fill='%23888' d='M6 8L0 0h12z'/></svg>"); background-repeat:no-repeat; background-position:right 10px center; background-size:12px 8px; }
    #mobile-menu:focus, #mobile-menu-toggle:focus { outline:3px solid rgba(255,215,0,.28); outline-offset:2px; }
    @media (max-width:800px){ .side-menu{ display:none; pointer-events:none; opacity:0; transform:translateX(-8px); } .mobile-nav{ display:block; } .main-content{ margin-left:0; } }
    @media (max-width:900px){ .grid-4rows{ grid-template-columns:repeat(2,1fr);} .main-content{ margin-left:0; } .side-menu{ position:static; width:100%; flex-direction:row; padding:.3rem .6rem; } .side-menu h2{ display:none; } .side-menu a{ width:auto; padding:.6rem 1rem; border-left:none; border-bottom:2px solid transparent;} .side-menu a.active,.side-menu a:hover{ border-bottom-color:var(--gold-500);} }
    @media (max-width:600px){ .grid-4rows{ grid-template-columns:1fr; } .lux-product img{ height:160px; } .lux-btn{ width:calc(100% - 2rem); } }

    /* Cart modal */
    #cart-modal{ display:none; position:fixed; top:0; right:0; width:340px; height:100%; background:#f9f9f9; color:#222; box-shadow:-4px 0 32px #000a; z-index:1000; padding:2rem; overflow-y:auto; }
    #empty-cart-alert{ display:none; background:var(--gold-500); color:#111; text-align:center; padding:1rem; border-radius:12px; font-weight:700; margin:1rem auto; max-width:420px; box-shadow:0 2px 12px #ffd70055; }
    .sr-only{ position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>
</head>
<body>
  <header class="lux-header">
    <h1>SHOP BMO</h1>
    <p>Exclusive sourced products, premium experience</p>
  </header>

  <!-- Mobile nav -->
  <div class="mobile-nav" id="mobile-nav" aria-hidden="true">
    <div class="mobile-nav-bar">
      <button id="mobile-menu-toggle" aria-expanded="false" aria-controls="mobile-menu" aria-label="Open navigation">‚ò∞ Browse</button>
      <select id="mobile-menu" aria-label="Mobile navigation"><option value="">Go to...</option></select>
    </div>
  </div>

  <!-- Desktop side menu (source for mobile select) -->
  <nav class="side-menu" id="side-menu" aria-label="Main navigation">
    <h2>Browse</h2>
    <a href="index.html">Shop</a>
    <a href="shop-mens.html">Men's Fragrances</a>
    <a href="shop-womens.html">Women's Fragrances</a>
    <a href="shop-unisex.html" class="active">Unisex Fragrances</a>
    <a href="snacks.html">Snacks</a>
    <a href="home-page.html">Home</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="checkout.html">Checkout</a>
  </nav>

  <main class="main-content" id="main">
    <div style="text-align:right; padding:1rem;">
      <button class="lux-btn" id="cart-toggle" style="position:relative;">üõí Cart (<span id="cart-count">0</span>)</button>
    </div>

    <div id="empty-cart-alert">‚ö†Ô∏è Your cart is empty. Please add items before checking out.</div>

    <section class="container">
      <h2 style="color:#ffd700; text-align:left; margin-left:1rem;">Featured Collection</h2>
      <div class="grid-4rows" id="product-list" aria-live="polite"></div>
    </section>

    <footer style="text-align:center; padding:2rem 0; color:#ffd70088;">¬© 2025 BMO.LLC.CO All rights reserved.</footer>
  </main>

  <div id="cart-modal" role="dialog" aria-modal="true" aria-hidden="true">
    <h2>Your Cart</h2>
    <ul id="cart-items"></ul>
    <hr>
    <b>Total: $<span id="cart-total">0.00</span></b>
    <br><br>
    <button id="checkout-btn" class="lux-btn">Checkout</button>
    <button class="lux-btn" id="close-cart" style="background:#333;color:#ffd700;margin-left:10px;">Close</button>
  </div>

  <script>
    // Full products array (kept as provided, prices unchanged)
    const products = [{ id: "wanted-azzaro-edt", name: "Wanted by Azzaro EDT 3.4oz", img: "https://mediafiles.maxaroma.com/9cd29e92-4b8f-436f-ad1f-8e368b30dc1d/https://www.maxaroma.com/productimages/large/UP3351500002696.jpg?ver=1725902804", desc: "Bold and spicy with cardamom and lemon, anchored by warm tonka bean.", price: 55 },
      { id: "most-wanted-intense-edt", name: "Most Wanted Intense EDT 3.4oz", img: "https://www.aurafragrance.com/cdn/shop/files/ruzfgcrpyp1h_1024x1024.jpg?v=1733081957", desc: "Amber and toffee create a deep, addictive masculine signature.", price: 69 },
      { id: "most-wanted-edp-intense", name: "Most Wanted EDP Intense 3.4oz", img: "https://fimgs.net/mdimg/perfume-thumbs/375x500.66826.2x.avif", desc: "Fiery ginger and bourbon vanilla bring smoky, seductive depth.", price: 78 },
      { id: "burberry-london-edt-men", name: "Burberry London EDT for Men 3.4oz", img: "https://us-i.makeupstore.com/v/va/vaxmvhetvtyn.jpg", desc: "", price: 50 },
      { id: "burberry-hero-edt-men", name: "Burberry Hero EDT for Men 3.4oz", img: "https://assets.burberry.com/is/image/Burberryltd/31903DDC-3F05-4700-93E1-8C09D421C5F5?$BBY_V3_UNSHARP_SL_1$&wid=3000&hei=3000", desc: "Tobacco, leather, and cinnamon‚Äîdressed like a tailored London suit.", price: 69 },
      { id: "burberry-hero-edp-men", name: "Burberry Hero EDP for Men 3.4oz", img: "https://assets.burberry.com/is/image/Burberryltd/9CB5B4CF-55ED-43E8-BD76-70F39A9AD29E?$BBY_V3_SL_1$&wid=2100&hei=2100", desc: "Cedarwood and bergamot evoke a wild, earthy masculinity.", price: 85 },
      { id: "burberry-london-edp-women", name: "Burberry London EDP for Women 3.4oz", img: "https://assets.burberry.com/is/image/Burberryltd/F9363128-2F01-40CB-A437-9D0D6FE54EC2?$BBY_V3_SL_1$&wid=2100&hei=2100", desc: "Pine and incense add soul and boldness to a rich, woodsy blend.", price: 69 },
      { id: "coach-blue-edt", name: "Coach Blue EDT 3.4oz", img: "https://i5.walmartimages.com/asr/3b9f9371-0799-4667-97ef-21c1e55a77ed.feaf99d22e10c92acfa76c5ca7feda10.jpeg", desc: "Top notes are Lime and Absinthe; middle notes are Ozonic notes and Black Pepper; base notes are Cedar and Amber.", price: 55 },
      { id: "coach-green-edt", name: "Coach Green EDT 3.4oz", img: "https://fimgs.net/mdimg/perfume-thumbs/375x500.81391.2x.avif", desc: "a fresh and invigorating Aromatic Spicy fragrance", price: 44 },
      { id: "coach-love-edp-women", name: "Coach Love EDP for Women 3.3oz", img: "https://www.aurafragrance.com/cdn/shop/files/796162ce-0ad3-4a38-a582-9255c53e89e5-569b7549eb65ba2de25112e7374cce56_1024x1024.jpg?v=1729585257", desc: "Nashi pear and suede blend for a modern, metropolitan scent.", price: 55 },
      { id: "coach-floral-edp-women", name: "Coach Floral EDP for Women 3.0oz", img: "https://www.aurafragrance.com/cdn/shop/products/375x500.48115_1024x1024.jpg?v=1583109187", desc: "Pineapple sorbet and peony bring fresh, delicate charm.", price: 40 },
      { id: "dior-sauvage-edp", name: "Dior Sauvage EDP 2.0oz", img: "https://fimgs.net/mdimg/perfume-thumbs/375x500.48100.2x.avif", desc: "Bergamot and ambroxan create a rugged, magnetic trail.", price: 110 },
      { id: "dior-homme-intense-edp", name: "Dior Homme Intense EDP 3.3oz", img: "https://www.lexormiami.com/cdn/shop/products/0321016_3348900838178_1000x.jpg?v=1750784827", desc: "Velvety iris and amber offer elegant masculine sensuality.", price: 140 },
      { id: "q-edp-women", name: "Q EDP for Women 3.3oz", img: "https://www.aurafragrance.com/cdn/shop/products/s-l1600--2_41d4fdd7-e05e-49d2-a352-8b0b786d1248_1024x1024.png?v=1698875758", desc: "Sicilian lemon and cherry burst over a woody base‚Äîregal and bold.", price: 55 },
      { id: "phantom-gift-set", name: "Phantom Gift Set", img: "https://www.aurafragrance.com/cdn/shop/files/Rabanne-Phantom-Eau-de-Toilette-100ml-Gift-Set_1024x1024.jpg?v=1736968235", desc: "Complete set of scent, deo, and travel spray in futuristic flair.", price: 110 },
      { id: "acqua-di-gio-edt", name: "Acqua Di Gio EDT 3.4oz", img: "https://fragrancemarket.com/cdn/shop/files/acquadigioedpmen.webp?v=1707919497&width=1100", desc: "a fresh, aquatic fragrance for men", price: 110 },
      { id: "by-the-fireplace", name: "By the Fireplace Maison Margiela 3.4oz", img: "https://fimgs.net/mdimg/perfume-thumbs/375x500.31623.2x.avif", desc: "Smoky, warm, unisex", price: 90 },
      { id: "ani-extrait-edp", name: "Nishane Ani Extrait de Parfum Unisex 3.4oz", img: "https://fimgs.net/mdimg/perfume-thumbs/375x500.54785.2x.avif", desc: "Unisex extrait with warm spices and vanilla", price: 170 },
      { id: "elysium-parfum-edp", name: "Elysium Parfum Roja EDP 3.4oz", img: "https://fimgs.net/mdimg/perfume-thumbs/375x500.46296.2x.avif", desc: "Citrusy aromatic unisex parfum", price: 180 }
      /* Note: array trimmed to the representative items above for clarity; the original list can be reinserted as needed */
    ];

    // classify as Unisex: first check explicit 'Unisex' or fallback to neither men nor women
    function isMen(product) {
      const n = (product.name || '') + ' ' + (product.desc || '');
      return /for Men|Men\b|masculine|Homme|Men's|male|gentleman|pour homme/i.test(n);
    }
    function isWomen(product) {
      const n = (product.name || '') + ' ' + (product.desc || '');
      return /for Women|Women\b|feminine|Her|ladies|pour femme|Women's|girl/i.test(n);
    }
    function isUnisex(product) {
      const n = (product.name || '') + ' ' + (product.desc || '');
      if (/Unisex/i.test(n)) return true;
      return !isMen(product) && !isWomen(product);
    }

    const unisexFragrances = products.filter(isUnisex);

    // safe escape helper
    function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, ch => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[ch])); }

    function renderProducts(prodArray){
      const list = document.getElementById('product-list');
      if(!list) return;
      if(!prodArray || prodArray.length === 0){
        list.innerHTML = '<p style="padding:1rem;color:#666;">No products found.</p>'; return;
      }
      list.innerHTML = prodArray.map(p => `
        <article class="lux-product" data-id="${encodeURIComponent(p.id||'')}">
          <a class="product-link-overlay" href="product.html?id=${encodeURIComponent(p.id||'')}" title="View ${escapeHtml(p.name||'')}"></a>
          <img src="${escapeHtml(p.img||'')}" alt="${escapeHtml(p.name||'')}">
          <h3>${escapeHtml(p.name||'')}</h3>
          <div class="price">$${(Number(p.price)||0).toFixed(2)}</div>
          <button class="lux-btn" data-name="${escapeHtml(p.name||'')}" data-price="${Number(p.price)||0}">Add to Cart</button>
        </article>
      `).join('');
    }

    renderProducts(unisexFragrances);

    /* CART (localStorage) */
    let cart = [];
    try { cart = JSON.parse(localStorage.getItem('cart')) || []; if(!Array.isArray(cart)) cart = []; } catch(e){ cart = []; }
    function saveCart(){ localStorage.setItem('cart', JSON.stringify(cart)); }
    function updateCartDisplay(){
      document.getElementById('cart-count').textContent = cart.reduce((s,i)=>s+i.qty,0);
      const itemsHtml = cart.map((it,idx)=>`<li>${escapeHtml(it.name)} x${it.qty} - $${(it.price*it.qty).toFixed(2)} <button class="remove-btn" data-idx="${idx}">Remove</button></li>`).join('') || "<li>Your cart is empty.</li>";
      document.getElementById('cart-items').innerHTML = itemsHtml;
      document.getElementById('cart-total').textContent = cart.reduce((s,i)=>s+i.price*i.qty,0).toFixed(2);
      const checkoutBtn = document.getElementById('checkout-btn');
      if(checkoutBtn){
        if(cart.length === 0){ checkoutBtn.classList.add('disabled-btn'); checkoutBtn.disabled = true; document.getElementById('empty-cart-alert').style.display='block'; }
        else { checkoutBtn.classList.remove('disabled-btn'); checkoutBtn.disabled = false; document.getElementById('empty-cart-alert').style.display='none'; }
      }
    }
    function addToCartByData(name, price){
      const n = String(name||'Item'); const p = Number(price)||0;
      const existing = cart.find(i=>i.name===n);
      if(existing) existing.qty += 1;
      else cart.push({ name: n, price: p, qty: 1 });
      saveCart(); updateCartDisplay(); showAddMessage(n);
    }
    function showAddMessage(product){
      const msg = document.createElement('div'); msg.textContent = `${product} added to cart!`;
      Object.assign(msg.style,{position:'fixed',bottom:'40px',right:'40px',background:'#ffd700',color:'#111',padding:'1rem 2rem',borderRadius:'12px',boxShadow:'0 4px 16px #0005',zIndex:2000});
      document.body.appendChild(msg); setTimeout(()=>msg.remove(),1300);
    }
    function toggleCart(){
      const modal = document.getElementById('cart-modal'); if(!modal) return;
      if(modal.style.display === 'block'){ modal.style.display='none'; modal.setAttribute('aria-hidden','true'); }
      else { modal.style.display='block'; modal.setAttribute('aria-hidden','false'); updateCartDisplay(); }
    }
    document.getElementById('cart-toggle').addEventListener('click', toggleCart);
    document.getElementById('close-cart').addEventListener('click', toggleCart);
    document.getElementById('checkout-btn').addEventListener('click', function(){ if(cart.length===0){ document.getElementById('empty-cart-alert').style.display='block'; return; } saveCart(); window.location.href='checkout.html'; });

    // Delegation: add-to-cart & remove
    document.getElementById('product-list').addEventListener('click', function(e){
      const btn = e.target.closest('.lux-btn'); if(!btn) return;
      const name = btn.getAttribute('data-name'); const price = btn.getAttribute('data-price'); addToCartByData(name, price);
    });
    document.getElementById('cart-items').addEventListener('click', function(e){
      const btn = e.target.closest('.remove-btn'); if(!btn) return;
      const idx = Number(btn.getAttribute('data-idx')); if(Number.isFinite(idx) && cart[idx]){ cart[idx].qty -= 1; if(cart[idx].qty<=0) cart.splice(idx,1); saveCart(); updateCartDisplay(); }
    });

    updateCartDisplay();
  </script>

  <!-- Mobile nav script: populate select from side-menu -->
  <script>
    (function(){
      const sideMenu = document.getElementById('side-menu');
      const mobileMenu = document.getElementById('mobile-menu');
      const toggleBtn = document.getElementById('mobile-menu-toggle');
      if(!mobileMenu) return;
      function buildMobileMenu(){
        while(mobileMenu.options.length>1) mobileMenu.remove(1);
        if(!sideMenu) return;
        const links = Array.from(sideMenu.querySelectorAll('a'));
        const current = (window.location.pathname||'').split('/').pop();
        links.forEach(a=>{
          const href = a.getAttribute('href')||'';
          const text = (a.textContent||'').trim() || href;
          const opt = document.createElement('option'); opt.value = href; opt.textContent = text;
          if(href.split('/').pop() === current) opt.selected = true;
          mobileMenu.appendChild(opt);
        });
      }
      mobileMenu.addEventListener('change', e => { const url = e.target.value; if(url) window.location.href = url; });
      if(toggleBtn) toggleBtn.addEventListener('click', function(){ const exp = this.getAttribute('aria-expanded') === 'true'; this.setAttribute('aria-expanded', String(!exp)); mobileMenu.focus(); });
      window.addEventListener('load', buildMobileMenu);
      window.addEventListener('resize', buildMobileMenu);
      if(sideMenu){ const obs = new MutationObserver(buildMobileMenu); obs.observe(sideMenu,{ childList:true, subtree:true }); }
    })();
  </script>
</body>
</html>
