<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shop BMO ‚Äî Snacks</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Fonts & base CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Cinzel:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cologne-css@1.0.0/dist/cologne.min.css">
  <style>
    :root { --gold-600:#bfa200; --gold-500:#ffd700; --bg:#f9f9f9; }
    html,body{height:100%;margin:0;}
    body{
      background:#fff;
      color:#222;
      font-family:'Montserrat',sans-serif;
      -webkit-font-smoothing:antialiased;
    }

    /* Header */
    .lux-header{
      background: linear-gradient(90deg,var(--bg),#fff);
      padding:2rem 0; text-align:center; color:#222;
      letter-spacing:0.15em; box-shadow:0 4px 24px 0 #ffd70044;
    }
    .lux-header h1{ font-family:'Cinzel',serif; font-weight:700; margin:0; }

    /* Desktop side menu */
    .side-menu{
      position:fixed; top:0; left:0; height:100%; width:210px;
      background:var(--bg); border-right:2px solid #ffd70033;
      box-shadow:2px 0 16px #ffd70011; display:flex; flex-direction:column;
      align-items:flex-start; z-index:100; padding-top:3rem;
    }
    .side-menu h2{ font-size:1.2rem; color:var(--gold-600); font-weight:700; margin-left:24px; margin-bottom:1rem; }
    .side-menu a{
      display:block; width:50%; padding:.9rem 2rem; color:var(--gold-600);
      font-size:1.07rem; text-decoration:none; font-weight:600; border-left:2px solid transparent;
      transition:background .18s, border-color .18s, color .18s;
    }
    .side-menu a:hover, .side-menu a.active{ background:#fffbe9; color:var(--gold-500); border-left:2px solid var(--gold-500); }

    /* Main content */
    .main-content { margin-left:210px; box-sizing:border-box; min-height:100vh; }

    /* Responsive product grid (side-by-side cards) */
    .grid-4rows {
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:1rem;
      margin:2rem;
    }
    .lux-product{
      width:100%; height:auto; background:#fff; border-radius:0;
      transition:transform .28s, box-shadow .28s; box-shadow:0 2px 8px #eee;
      color:#222; display:flex; flex-direction:column; position:relative;
      overflow:hidden; box-sizing:border-box; border:1px solid #eee;
    }
    .lux-product:hover{ transform:translateY(-6px); box-shadow:0 12px 32px #ffd70055; }
    .lux-product img{ width:100%; height:220px; object-fit:cover; display:block; background:var(--bg); }
    .lux-product h3{ margin:.5rem 1rem 0 1rem; font-size:1.05rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .lux-product .price{ margin:.25rem 1rem .75rem 1rem; font-weight:700; color:var(--gold-600); }
    .lux-btn{
      background:linear-gradient(90deg,var(--gold-500),var(--gold-600)); color:#111; border:0;
      border-radius:25px; padding:.6rem 1.2rem; font-weight:700; font-size:1rem; cursor:pointer;
      box-shadow:0 2px 12px #ffd70055; width:calc(100% - 2rem); margin:.6rem 1rem 1rem 1rem;
    }

    /* Mobile nav (select + toggle) */
    .mobile-nav{ display:none; width:100%; background:var(--bg); border-bottom:2px solid #ffd70033; box-shadow:0 4px 10px rgba(0,0,0,.04); padding:.5rem 1rem; z-index:200; box-sizing:border-box; }
    .mobile-nav-bar{ max-width:1200px; margin:0 auto; display:flex; gap:.6rem; align-items:center; }
    #mobile-menu-toggle{ background:linear-gradient(90deg,var(--gold-500),var(--gold-600)); color:#111; border:0; border-radius:8px; padding:.45rem .8rem; font-weight:700; cursor:pointer; box-shadow:0 2px 12px rgba(255,215,0,.22); display:inline-flex; align-items:center; gap:.4rem; }
    #mobile-menu{ -webkit-appearance:none; appearance:none; width:100%; padding:.48rem .9rem; padding-right:2.6rem; border-radius:8px; border:1px solid #eee; background:#fff; font-size:1rem; color:#222; background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'><path fill='%23888' d='M6 8L0 0h12z'/></svg>"); background-repeat:no-repeat; background-position:right 10px center; background-size:12px 8px; }
    @media (max-width:800px){ .side-menu{ display:none; pointer-events:none; opacity:0; transform:translateX(-8px); } .mobile-nav{ display:block; } .main-content{ margin-left:0; } }
    @media (max-width:900px){ .grid-4rows{ grid-template-columns:repeat(2,1fr);} .main-content{ margin-left:0;} }
    @media (max-width:600px){ .grid-4rows{ grid-template-columns:1fr;} .lux-product img{ height:160px;} .lux-btn{ width:calc(100% - 2rem);} }

    /* Cart modal */
    #cart-modal{ display:none; position:fixed; top:0; right:0; width:340px; height:100%; background:#f9f9f9; color:#222; box-shadow:-4px 0 32px #000a; z-index:1000; padding:2rem; overflow-y:auto; }
    #empty-cart-alert{ display:none; background:var(--gold-500); color:#111; text-align:center; padding:1rem; border-radius:12px; font-weight:700; margin:1rem auto; max-width:420px; box-shadow:0 2px 12px #ffd70055; }
    .sr-only{ position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>
</head>
<body>
  <header class="lux-header">
    <h1>SHOP BMO</h1>
    <p>Exclusive sourced products, premium experience</p>
  </header>

  <!-- Mobile navigation -->
  <div class="mobile-nav" id="mobile-nav" aria-hidden="true">
    <div class="mobile-nav-bar">
      <button id="mobile-menu-toggle" aria-expanded="false" aria-controls="mobile-menu" aria-label="Open navigation">‚ò∞ Browse</button>
      <select id="mobile-menu" aria-label="Mobile navigation">
        <option value="">Go to...</option>
      </select>
    </div>
  </div>

  <!-- Desktop Side Navigation Menu (source for mobile) -->
  <nav class="side-menu" id="side-menu" aria-label="Main navigation">
    <h2>Browse</h2>
    <a href="index.html">Shop</a>
    <a href="shop-mens.html">Men's Fragrances</a>
    <a href="shop-womens.html">Women's Fragrances</a>
    <a href="shop-unisex.html">Unisex Fragrances</a>
    <a href="snacks.html" class="active">Snacks</a>
    <a href="home-page.html">Home</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="checkout.html">Checkout</a>
  </nav>

  <main class="main-content" id="main">
    <div style="text-align:right; padding:1rem;">
      <button class="lux-btn" id="cart-toggle" style="position:relative;">üõí Cart (<span id="cart-count">0</span>)</button>
    </div>

    <div id="empty-cart-alert">‚ö†Ô∏è Your cart is empty. Please add items before checking out.</div>

    <section class="container">
      <h2 style="color:#ffd700; text-align:left; margin-left:1rem;">Featured Collection</h2>
      <div class="grid-4rows" id="product-list" aria-live="polite"></div>
    </section>

    <footer style="text-align:center; padding:2rem 0; color:#ffd70088;">¬© 2025 BMO.LLC.CO All rights reserved.</footer>
  </main>

  <!-- Cart modal -->
  <div id="cart-modal" role="dialog" aria-modal="true" aria-hidden="true">
    <h2>Your Cart</h2>
    <ul id="cart-items"></ul>
    <hr>
    <b>Total: $<span id="cart-total">0.00</span></b>
    <br><br>
    <button id="checkout-btn" class="lux-btn">Checkout</button>
    <button class="lux-btn" id="close-cart" style="background:#333;color:#ffd700;margin-left:10px;">Close</button>
  </div>

  <script>
    /* Snacks products array (kept exactly as provided; prices preserved) */
    const products = [
      { id: "Ramune-Soda-Strawberry", name: "Shirakiku Ramune Soda Strawberry Flavor 200 ml", img: "https://images.albertsons-media.com/is/image/ABS/960095322-ECOM?$ng-ecom-pdp-desktop$&defaultImage=Not_Available", desc: "distinctive Codd-neck bottle sealed with a marble...", price: 2 },
      { id: "Ramune-Soda-Lychee", name: "Shirakiku Ramune Soda Lychee Flavor 200 ml", img: "https://img06.weeecdn.com/product/image/554/904/20788FB2B56D3A6.png!c2048x0.auto", desc: "distinctive Codd-neck bottle sealed with a marble...", price: 2 },
      { id: "Ramune-Soda-Original", name: "Shirakiku Ramune Soda Original Flavor 200 ml", img: "https://www.kroger.com/product/images/large/front/0085890400210", desc: "distinctive Codd-neck bottle sealed with a marble...", price: 2 },
      { id: "Ramune-Japanese-Soda=Melon", name: "Hata Ramune Japanese Soda Melon Flavor 200 ml", img: "https://www.kroger.com/product/images/xlarge/front/0007460117608", desc: "distinctive Codd-neck bottle sealed with a marble...", price: 2.75 },
      { id: "Ramune-Japanese-Soda-Blueberry", name: "Hata Ramune Japanese Soda Blueberry Flavor 200 ml", img: "https://www.worldmarket.com/dw/image/v2/BJWT_PRD/on/demandware.static/-/Sites-wm-master-catalog/default/dw6dc36c84/images/large/68234_XXX_v1.jpg?sw=768&sh=768&sm=fit&sfrm=tif&q=80", desc: "distinctive Codd-neck bottle sealed with a marble...", price: 2.75 },
      { id: "Ramune-Yuzu-Flavor", name: "Hata Kosen Ramune, Yuzu Flavor 200 ml", img: "https://exoticpopdistribution.com/cdn/shop/files/Hata-Yuzu-Ramune-Soda-Japan.png?v=1700770289", desc: "distinctive Codd-neck bottle sealed with a marble...", price: 2.75 },
      { id: "Ramune-Japanese-Soda-Pineapple", name: "Hata Ramune Japanese Soda Pineapple Flavor 200 ml", img:"https://exoticpopdistribution.com/cdn/shop/files/Hata-Pineapple-Ramune-Soda-Japan.png?v=1700770268", desc: "distinctive Codd-neck bottle sealed with a marble...", price: 2.75 },
      { id: "Ramune-Japanese-Soda-Orange", name: "Hata Ramune Japanese Soda Orange Flavor 200 ml", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTiRtgTmO03ESwY4Xz18tbQyirpVBcCiQ5ltA&s", desc: "distinctive Codd-neck bottle sealed with a marble...", price: 2.75 },
      { id: "Strawberry-Flavor-480-ml", name: "Sangaria Ramune Soda Strawberry Flavor 480 ml", img: "https://www.mugentoys.com/shop/image/cache/catalog/img/0X/733815006720-500x500.jpg", desc: "a naturally flavored, carbonated soft drink...", price: 3.50 },
      { id: "Melon-Flavor-480-ml", name: "Sangaria Ramune Soda Melon Flavor 480 ml", img: "https://i0.wp.com/umefood.dk/wp-content/uploads/2025/04/Sangaria-Melon-Soda-17.6-oz_800x800.webp?fit=601%2C800&ssl=1", desc: "a naturally flavored, carbonated soft drink...", price: 3.50 },
      { id: "Grape-Flavor-480-ml", name: "Sangaria Ramune Soda Grape Flavor 480 ml", img:"https://img08.weeecdn.net/product/image/180/806/45416D8D64B87E11.png!c750x0_q80_t1.auto", desc: "a naturally flavored, carbonated soft drink...", price: 3.50 },
      { id: "Original-Flavor-480-ml", name: "Sangaria Ramune Original Grape Flavor 480 ml", img:"https://www.mugentoys.com/shop/image/cache/catalog/img/0X/733815006669-500x500.jpg", desc: "a naturally flavored, carbonated soft drink...", price: 3.50 }
    ];

    // Render products (snacks). Descriptions not shown in card to keep layout compact.
    function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, ch=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[ch])); }

    function renderProducts(prodArray){
      const container = document.getElementById('product-list');
      if(!container) return;
      if(!prodArray || prodArray.length===0){ container.innerHTML = '<p style="padding:1rem;color:#666;">No products found.</p>'; return; }
      container.innerHTML = prodArray.map(p => {
        const name = escapeHtml(p.name);
        const img = escapeHtml(p.img);
        const price = (Number(p.price)||0).toFixed(2);
        return `
          <article class="lux-product" data-id="${encodeURIComponent(p.id||'')}">
            <a class="product-link-overlay" href="product.html?id=${encodeURIComponent(p.id||'')}" title="View ${name}" aria-hidden="true"></a>
            <img src="${img}" alt="${name}">
            <h3>${name}</h3>
            <div class="price">$${price}</div>
            <button class="lux-btn" data-name="${name}" data-price="${price}">Add to Cart</button>
          </article>
        `;
      }).join('');
    }

    renderProducts(products);

    /* CART: localStorage-backed */
    let cart = [];
    try { cart = JSON.parse(localStorage.getItem('cart')) || []; if(!Array.isArray(cart)) cart = []; } catch(e){ cart = []; }

    function saveCart(){ localStorage.setItem('cart', JSON.stringify(cart)); }
    function updateCartDisplay(){
      document.getElementById('cart-count').textContent = cart.reduce((s,i)=>s+i.qty,0);
      const itemsHtml = cart.map((it,idx)=>`<li>${escapeHtml(it.name)} x${it.qty} - $${(it.price*it.qty).toFixed(2)} <button class="remove-btn" data-idx="${idx}">Remove</button></li>`).join('') || "<li>Your cart is empty.</li>";
      document.getElementById('cart-items').innerHTML = itemsHtml;
      document.getElementById('cart-total').textContent = cart.reduce((s,i)=>s+i.price*i.qty,0).toFixed(2);
      const checkoutBtn = document.getElementById('checkout-btn');
      if(checkoutBtn){
        if(cart.length===0){ checkoutBtn.classList.add('disabled-btn'); checkoutBtn.disabled = true; document.getElementById('empty-cart-alert').style.display='block'; }
        else{ checkoutBtn.classList.remove('disabled-btn'); checkoutBtn.disabled = false; document.getElementById('empty-cart-alert').style.display='none'; }
      }
    }

    function addToCartByData(name, price){
      const n = String(name||'Item'); const p = Number(price)||0;
      const existing = cart.find(i=>i.name===n);
      if(existing) existing.qty += 1;
      else cart.push({ name: n, price: p, qty: 1 });
      saveCart(); updateCartDisplay(); showAddMessage(n);
    }

    function showAddMessage(product){
      const msg = document.createElement('div'); msg.textContent = `${product} added to cart!`;
      Object.assign(msg.style,{position:'fixed',bottom:'40px',right:'40px',background:'#ffd700',color:'#111',padding:'1rem 2rem',borderRadius:'12px',boxShadow:'0 4px 16px #0005',zIndex:2000});
      document.body.appendChild(msg); setTimeout(()=>msg.remove(),1300);
    }

    function toggleCart(){
      const modal = document.getElementById('cart-modal'); if(!modal) return;
      if(modal.style.display === 'block'){ modal.style.display='none'; modal.setAttribute('aria-hidden','true'); }
      else { modal.style.display='block'; modal.setAttribute('aria-hidden','false'); updateCartDisplay(); }
    }
    document.getElementById('cart-toggle').addEventListener('click', toggleCart);
    document.getElementById('close-cart').addEventListener('click', toggleCart);
    document.getElementById('checkout-btn').addEventListener('click', function(){ if(cart.length===0){ document.getElementById('empty-cart-alert').style.display='block'; return; } saveCart(); window.location.href='checkout.html'; });

    // Delegation: add-to-cart
    document.getElementById('product-list').addEventListener('click', function(e){
      const btn = e.target.closest('.lux-btn'); if(!btn) return;
      const name = btn.getAttribute('data-name'); const price = btn.getAttribute('data-price');
      addToCartByData(name, price);
    });

    // Delegation: remove from cart
    document.getElementById('cart-items').addEventListener('click', function(e){
      const btn = e.target.closest('.remove-btn'); if(!btn) return;
      const idx = Number(btn.getAttribute('data-idx'));
      if(Number.isFinite(idx) && cart[idx]){ cart[idx].qty -= 1; if(cart[idx].qty<=0) cart.splice(idx,1); saveCart(); updateCartDisplay(); }
    });

    updateCartDisplay();

    /* MOBILE NAV: populate select from desktop menu */
    (function(){
      const sideMenu = document.getElementById('side-menu');
      const mobileMenu = document.getElementById('mobile-menu');
      const toggleBtn = document.getElementById('mobile-menu-toggle');
      if(!mobileMenu) return;
      function buildMobileMenu(){
        while(mobileMenu.options.length>1) mobileMenu.remove(1);
        if(!sideMenu) return;
        const links = Array.from(sideMenu.querySelectorAll('a'));
        const current = (window.location.pathname||'').split('/').pop();
        links.forEach(a => {
          const href = a.getAttribute('href')||'';
          const text = (a.textContent||'').trim()||href;
          const opt = document.createElement('option'); opt.value = href; opt.textContent = text;
          if(href.split('/').pop()===current) opt.selected = true;
          mobileMenu.appendChild(opt);
        });
      }
      mobileMenu.addEventListener('change', e => { const url = e.target.value; if(url) window.location.href = url; });
      if(toggleBtn) toggleBtn.addEventListener('click', function(){ const exp = this.getAttribute('aria-expanded')==='true'; this.setAttribute('aria-expanded', String(!exp)); mobileMenu.focus(); });
      window.addEventListener('load', buildMobileMenu); window.addEventListener('resize', buildMobileMenu);
      if(sideMenu){ const obs = new MutationObserver(buildMobileMenu); obs.observe(sideMenu,{ childList:true, subtree:true }); }
    })();
  </script>
</body>
</html>
